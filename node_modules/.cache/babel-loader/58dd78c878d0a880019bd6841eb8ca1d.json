{"ast":null,"code":"import _defineProperty from \"/Users/HeSong/Desktop/react_clientpanel/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/HeSong/Desktop/react_clientpanel/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/HeSong/Desktop/react_clientpanel/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/HeSong/Desktop/react_clientpanel/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/HeSong/Desktop/react_clientpanel/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/HeSong/Desktop/react_clientpanel/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/HeSong/Desktop/react_clientpanel/src/components/auth/Register.js\";\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { firebaseConnect } from \"react-redux-firebase\";\nimport { notifyUser } from \"../../actions/notifyActions\";\nimport Alert from \"../layout/Alert\";\n\nvar Register =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Register, _Component);\n\n  function Register() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Register);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Register)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      email: \"\",\n      password: \"\"\n    };\n\n    _this.onChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n      var _this$props = _this.props,\n          firebase = _this$props.firebase,\n          notifyUser = _this$props.notifyUser; // Register with firebase\n\n      firebase.createUser({\n        email: email,\n        password: password\n      }).catch(function (err) {\n        return notifyUser(\"That user already exists\", \"error\");\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Register, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var allowRegistration = this.props.settings.allowRegistration; // Check if allow registration in settings\n\n      if (!allowRegistration) {\n        this.props.history.push(\"/\");\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props$notify = this.props.notify,\n          message = _this$props$notify.message,\n          messageType = _this$props$notify.messageType;\n      return React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-md-6 mx-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, message ? React.createElement(Alert, {\n        message: message,\n        messageType: messageType,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }) : null, React.createElement(\"h1\", {\n        className: \"text-center pb-4 pt-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"text-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-lock\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }), \" Register\")), React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        name: \"email\",\n        required: true,\n        value: this.state.email,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        type: \"password\",\n        className: \"form-control\",\n        name: \"password\",\n        required: true,\n        value: this.state.password,\n        onChange: this.onChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"Sign up\",\n        className: \"btn btn-block btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }))))));\n    }\n  }]);\n\n  return Register;\n}(Component);\n\nRegister.propTypes = {\n  firebase: PropTypes.object.isRequired,\n  notify: PropTypes.object.isRequired,\n  notifyUser: PropTypes.func.isRequired,\n  settings: PropTypes.object.isRequired\n};\nexport default compose(firebaseConnect(), connect(function (state, props) {\n  return {\n    notify: state.notify,\n    settings: state.settings\n  };\n}, {\n  notifyUser: notifyUser\n}))(Register);","map":{"version":3,"sources":["/Users/HeSong/Desktop/react_clientpanel/src/components/auth/Register.js"],"names":["React","Component","PropTypes","compose","connect","firebaseConnect","notifyUser","Alert","Register","state","email","password","onChange","e","setState","target","name","value","onSubmit","preventDefault","props","firebase","createUser","catch","err","allowRegistration","settings","history","push","notify","message","messageType","propTypes","object","isRequired","func"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\nimport { firebaseConnect } from \"react-redux-firebase\";\nimport { notifyUser } from \"../../actions/notifyActions\";\nimport Alert from \"../layout/Alert\";\n\nclass Register extends Component {\n  state = {\n    email: \"\",\n    password: \"\"\n  };\n\n  componentWillMount() {\n    const { allowRegistration } = this.props.settings;\n\n    // Check if allow registration in settings\n    if (!allowRegistration) {\n      this.props.history.push(\"/\");\n    }\n  }\n\n  onChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    const { email, password } = this.state;\n    const { firebase, notifyUser } = this.props;\n\n    // Register with firebase\n    firebase\n      .createUser({ email, password })\n      .catch(err => notifyUser(\"That user already exists\", \"error\"));\n  };\n\n  render() {\n    const { message, messageType } = this.props.notify;\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-6 mx-auto\">\n          <div className=\"card\">\n            <div className=\"card-body\">\n              {message ? (\n                <Alert message={message} messageType={messageType} />\n              ) : null}\n              <h1 className=\"text-center pb-4 pt-3\">\n                <span className=\"text-primary\">\n                  <i className=\"fas fa-lock\" /> Register\n                </span>\n              </h1>\n              <form onSubmit={this.onSubmit}>\n                <div className=\"form-group\">\n                  <label htmlFor=\"email\">Email</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"email\"\n                    required\n                    value={this.state.email}\n                    onChange={this.onChange}\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label htmlFor=\"password\">Password</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    name=\"password\"\n                    required\n                    value={this.state.password}\n                    onChange={this.onChange}\n                  />\n                </div>\n                <input\n                  type=\"submit\"\n                  value=\"Sign up\"\n                  className=\"btn btn-block btn-primary\"\n                />\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nRegister.propTypes = {\n  firebase: PropTypes.object.isRequired,\n  notify: PropTypes.object.isRequired,\n  notifyUser: PropTypes.func.isRequired,\n  settings: PropTypes.object.isRequired\n};\n\nexport default compose(\n  firebaseConnect(),\n  connect(\n    (state, props) => ({\n      notify: state.notify,\n      settings: state.settings\n    }),\n    { notifyUser }\n  )\n)(Register);\n"]},"metadata":{},"sourceType":"module"}